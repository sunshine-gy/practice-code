<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
</style>
<body>
    按照渲染的时间顺序，流水线可分为如下几个子阶段：
    构建 DOM 树、样式计算、布局阶段、分层、绘制、分块、光栅化和合成。

    一个完整的渲染流程大致可总结为如下：
    
    1. 渲染进程将 HTML 内容转换为能够读懂的DOM 树结构。
    2. 渲染引擎将 CSS 样式表转化为浏览器可以理解的styleSheets，计算出 DOM 节点的
    样式。
    3. 创建布局树，并计算元素的布局信息。
    4. 对布局树进行分层，并生成分层树。 
    5. 为每个图层生成绘制列表，并将其提交到合成线程。
    6. 合成线程将图层分成图块，并在光栅化线程池中将图块转换成位图。
    7. 合成线程发送绘制图块命令DrawQuad给浏览器进程。
    8. 浏览器进程根据 DrawQuad 消息生成页面，并显示到显示器上。

    重排：通过 JavaScript 或者 CSS 修改元素的几何位置属性，例如改变元素的宽度、高度等，那么浏览器会触发重新布局，
          解析之后的一系列子阶段，这个过程就叫重排。无疑，重排需要更新完整的渲染流水线，所以开销也是最大的。

    重绘：例如修改了元素的背景颜色，那么布局阶段将不会被执行，因为并没有引起几何位置的变换，所以就直接进入了
          绘制阶段，然后执行之后的一系列子阶段，这个过程就叫重绘。相较于重排操作，重绘省去了布局和分层阶段，
         所以执行效率会比重排操作要高一些。

    合成：如果你更改一个既不要布局也不要绘制的属性，例如transform属性，渲染引擎将跳过布局和绘制，只执行后续的
          合成操作，我们把这个过程叫做合成。相对于重绘和重排，合成能大大提升绘制效率。

      如何减少重排和重绘？
      1.减少直接操作DOM元素，改用className控制
      2.尽量减少table的使用，table属性会直接导致布局重排或重绘
      3.将需要多次重排的元素，position属性设为fixed或absolute属性，元素脱离了文档流，它的变化不会影响到其他元素
</body>
</html>