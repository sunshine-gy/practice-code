<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    渐进式网页应用(PWA)：
    它是一套理念，渐进式增强 Web 的优势，并通过技术手段渐进式缩短和本地应用或者小程序的距离。

    可以从两方面来理解：
    1.站在 Web 应用开发者来说，PWA 提供了一个渐进式的过渡方案，让普通站点逐步过渡
    到 Web 应用。采取渐进式可以降低站点改造的代价，使得站点逐步支持各项新技术，而
    不是一步到位。
    2.站在技术角度来说，PWA 技术也是一个渐进式的演化过程，在技术层面会一点点演进，
    比如逐渐提供更好的设备特性支持，不断优化更加流畅的动画效果，不断让页面的加载速
    度变得更快，不断实现本地应用的特性。

    那相对于本地应用，Web 页面到底缺少了什么？
    1.首先，Web 应用缺少离线使用能力，在离线或者在弱网环境下基本上是无法使用的。而
    用户需要的是沉浸式的体验，在离线或者弱网环境下能够流畅地使用是用户对一个应用的
    基本要求。
    2.其次，Web 应用还缺少了消息推送的能力，因为作为一个 App 厂商，需要有将消息送
    达到应用的能力。
    3.最后，Web 应用缺少一级入口，也就是将 Web 应用安装到桌面，在需要的时候直接从
    桌面打开 Web 应用，而不是每次都需要通过浏览器来打开。

    针对以上 Web 缺陷，PWA 提出了两种解决方案：通过引入 Service Worker 来试着解决
    离线存储和消息推送的问题，通过引入 manifest.json 来解决一级入口的问题。

    Service Worker 的概念：它的主要思想是在页面和网络之间增加一个拦截器，用来缓存和拦截请求。
    “让其运行在主线程之外”就是 Service Worker 来自 Web Worker 的一个核心思想。

    Web Worker： 目的是让 JavaScript 能够运行在页面主线程之外，不过由于 WebWorker 中是没有
    当前页面的 DOM 环境的，所以在 Web Worker 中只能执行一些和 DOM 无关的 JavaScript 脚本，
    并通过 postMessage 方法将执行的结果返回给主线程。不过 Web Worker 是临时的，每次 JavaScript
    脚本执行完成之后都会退出，执行结果也不能保存下来。
</body>
</html>